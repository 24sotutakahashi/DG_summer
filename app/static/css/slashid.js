!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function t(e){return e&&e.__esModule?e.default:e}var r={},n={},o=e.parcelRequire91fc;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var o={id:e,exports:{}};return r[e]=o,t.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequire91fc=o),o.register("9fWVk",(function(e,t){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return r(e,t)}})),o.register("4qbzn",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,r){return i.apply(null,arguments)};var r,n=(r=o("9fWVk"))&&r.__esModule?r:{default:r};function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function i(e,t,r){return(i=a()?Reflect.construct:function(e,t,r){var o=[null];o.push.apply(o,t);var a=new(Function.bind.apply(e,o));return r&&n.default(a,r.prototype),a}).apply(null,arguments)}})),o.register("kcoyh",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}})),o.register("ofh6S",(function(e,t){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return r(e)}})),o.register("6JBEd",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}})),o.register("6VvUs",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return!t||"object"!==n.default(t)&&"function"!=typeof t?r.default(e):t};var r=a(o("hRVRr")),n=a(o("h87Cd"));function a(e){return e&&e.__esModule?e:{default:e}}})),o.register("hRVRr",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}})),o.register("h87Cd",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return e&&e.constructor===Symbol?"symbol":typeof e}})),o.register("9GttB",(function(t,r){!function(n){var o=r&&!r.nodeType&&r,a=t&&!t.nodeType&&t,i="object"==typeof e&&e;i.global!==i&&i.window!==i&&i.self!==i||(n=i);var s,u,c=2147483647,h=36,l=/^xn--/,f=/[^\x20-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},y=Math.floor,v=String.fromCharCode;function b(e){throw RangeError(d[e])}function g(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function m(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+g((e=e.replace(p,".")).split("."),t).join(".")}function w(e){for(var t,r,n=[],o=0,a=e.length;o<a;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<a?56320==(64512&(r=e.charCodeAt(o++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),o--):n.push(t);return n}function x(e){return g(e,(function(e){var t="";return e>65535&&(t+=v((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=v(e)})).join("")}function _(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function k(e,t,r){var n=0;for(e=r?y(e/700):e>>1,e+=y(e/t);e>455;n+=h)e=y(e/35);return y(n+36*e/(e+38))}function E(e){var t,r,n,o,a,i,s,u,l,f,p,d=[],v=e.length,g=0,m=128,w=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&b("not-basic"),d.push(e.charCodeAt(n));for(o=r>0?r+1:0;o<v;){for(a=g,i=1,s=h;o>=v&&b("invalid-input"),((u=(p=e.charCodeAt(o++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:h)>=h||u>y((c-g)/i))&&b("overflow"),g+=u*i,!(u<(l=s<=w?1:s>=w+26?26:s-w));s+=h)i>y(c/(f=h-l))&&b("overflow"),i*=f;w=k(g-a,t=d.length+1,0==a),y(g/t)>c-m&&b("overflow"),m+=y(g/t),g%=t,d.splice(g++,0,m)}return x(d)}function O(e){var t,r,n,o,a,i,s,u,l,f,p,d,g,m,x,E=[];for(d=(e=w(e)).length,t=128,r=0,a=72,i=0;i<d;++i)(p=e[i])<128&&E.push(v(p));for(n=o=E.length,o&&E.push("-");n<d;){for(s=c,i=0;i<d;++i)(p=e[i])>=t&&p<s&&(s=p);for(s-t>y((c-r)/(g=n+1))&&b("overflow"),r+=(s-t)*g,t=s,i=0;i<d;++i)if((p=e[i])<t&&++r>c&&b("overflow"),p==t){for(u=r,l=h;!(u<(f=l<=a?1:l>=a+26?26:l-a));l+=h)x=u-f,m=h-f,E.push(v(_(f+x%m,0))),u=y(x/m);E.push(v(_(u,0))),a=k(r,g,n==o),r=0,++n}++r,++t}return E.join("")}if(s={version:"1.3.2",ucs2:{decode:w,encode:x},decode:E,encode:O,toASCII:function(e){return m(e,(function(e){return f.test(e)?"xn--"+O(e):e}))},toUnicode:function(e){return m(e,(function(e){return l.test(e)?E(e.slice(4).toLowerCase()):e}))}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",(function(){return s}));else if(o&&a)if(t.exports==o)a.exports=s;else for(u in s)s.hasOwnProperty(u)&&(o[u]=s[u]);else n.punycode=s}(this)})),o.register("61XKN",(function(e,t){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,o,a){t=t||"&",o=o||"=";var i={};if("string"!=typeof e||0===e.length)return i;var s=/\+/g;e=e.split(t);var u=1e3;a&&"number"==typeof a.maxKeys&&(u=a.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var h=0;h<c;++h){var l,f,p,d,y=e[h].replace(s,"%20"),v=y.indexOf(o);v>=0?(l=y.substr(0,v),f=y.substr(v+1)):(l=y,f=""),p=decodeURIComponent(l),d=decodeURIComponent(f),r(i,p)?n(i[p])?i[p].push(d):i[p]=[i[p],d]:i[p]=d}return i};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}})),o.register("ffBBu",(function(e,r){var n=o("h87Cd"),a=function(e){switch(void 0===e?"undefined":t(n)(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,n){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?s(u(e),(function(n){var o=encodeURIComponent(a(n))+r;return i(e[n])?s(e[n],(function(e){return o+encodeURIComponent(a(e))})).join(t):o+encodeURIComponent(a(e[n]))})).join(t):n?encodeURIComponent(a(n))+r+encodeURIComponent(a(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var u=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}})),o.register("cS66w",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(Array.isArray(e))return n.default(e)};var r,n=(r=o("cZLzw"))&&r.__esModule?r:{default:r}})),o.register("cZLzw",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}})),o.register("d2veR",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}})),o.register("lHjDW",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),o.register("5wdK0",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(!e)return;if("string"==typeof e)return n.default(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n.default(e,t)};var r,n=(r=o("cZLzw"))&&r.__esModule?r:{default:r}}));var a={major:1,minor:3,patch:3,raw:"1.3.3"},i={};function s(e,t,r,n,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){s(a,n,o,i,u,"next",e)}function u(e){s(a,n,o,i,u,"throw",e)}i(void 0)}))}};var u={};Object.defineProperty(u,"__esModule",{value:!0}),u.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var c={};function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(e,t,r){t&&h(e.prototype,t);r&&h(e,r);return e};var l={},f=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),i=new L(n||[]);return a._invoke=function(e,t,r){var n=l;return function(o,a){if(n===p)throw new Error("Generator is already running");if(n===d){if("throw"===o)throw a;return R()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var s=O(i,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var u=h(e,t,r);if("normal"===u.type){if(n=r.done?d:f,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=d,r.method="throw",r.arg=u.arg)}}}(e,r,i),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var l="suspendedStart",f="suspendedYield",p="executing",d="completed",y={};function v(){}function b(){}function g(){}var m={};u(m,a,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(P([])));x&&x!==r&&n.call(x,a)&&(m=x);var _=g.prototype=v.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(o,a,i,s){var u=h(e[o],e,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return r("throw",e,i,s)}))}s(u.arg)}var o;this._invoke=function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}}function O(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method))return y;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=h(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function P(e){if(e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}return{next:R}}function R(){return{value:t,done:!0}}return b.prototype=g,u(_,"constructor",g),u(g,"constructor",b),b.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},k(E.prototype),u(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new E(c(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(_),u(_,s,"Generator"),u(_,a,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}(l);try{regeneratorRuntime=f}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=f:Function("r","regeneratorRuntime = r")(f)}var p=["http:","https:"];function d(e){if(!e)throw new TypeError("options cannot be null");if(e.baseURL){if("string"!=typeof e.baseURL)throw new TypeError("'baseURL' must be a string");var t;try{t=new URL(e.baseURL)}catch(e){throw new TypeError("'baseURL' must be a valid URL")}if(-1===p.indexOf(t.protocol))throw new TypeError("'baseURL' must be either an http or https URL")}if(e.sdkURL){if("string"!=typeof e.sdkURL)throw new TypeError("'sdkURL' must be a string");try{new URL(e.sdkURL)}catch(e){throw new TypeError("'sdkURL' must be a valid URL")}}}var y=function e(r){"use strict";if(t(u)(this,e),!r)throw new TypeError("OTP options cannot be null");if(!r.getOTP)throw new TypeError("OTP options must have a getOTP field");if("function"!=typeof r.getOTP)throw new TypeError("OTP options getOTP field must be a function");this.getOTP=r.getOTP};function v(e){this.message=e}v.prototype=new Error,v.prototype.name="InvalidCharacterError";var b="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new v("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,n,o=0,a=0,i="";n=t.charAt(a++);~n&&(r=o%4?64*r+n:n,o++%4)&&(i+=String.fromCharCode(255&r>>(-2*o&6))))n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return i};function g(e){this.message=e}g.prototype=new Error,g.prototype.name="InvalidTokenError";var m=function(e,t){if("string"!=typeof e)throw new g("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(b(t).replace(/(.)/g,(function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r})))}catch(e){return b(t)}}(e.split(".")[r]))}catch(e){throw new g("Invalid token specified: "+e.message)}},w={};Object.defineProperty(w,"__esModule",{value:!0}),w.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_.default(e,t)};var x,_=(x=o("9fWVk"))&&x.__esModule?x:{default:x};var k={};Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(e){return P(e)};var E=L(o("4qbzn")),O=L(o("kcoyh")),S=L(o("ofh6S")),A=L(o("9fWVk"));function L(e){return e&&e.__esModule?e:{default:e}}function P(e){var t="function"==typeof Map?new Map:void 0;return P=function(e){if(null===e||!O.default(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return E.default(e,arguments,S.default(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),A.default(r,e)},P(e)}var R={};Object.defineProperty(R,"__esModule",{value:!0}),R.default=function(e){var t=I.default();return function(){var r,n=j.default(e);if(t){var o=j.default(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return T.default(this,r)}};var I=C(o("6JBEd")),j=C(o("ofh6S")),T=C(o("6VvUs"));function C(e){return e&&e.__esModule?e:{default:e}}var U,D,N,G=o("h87Cd"),q=o("9GttB");function B(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}N={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}},U=te,D=function(e){N.isString(e)&&(e=te(e));return e instanceof B?e.format():B.prototype.format.call(e)};var M,W,F=/^([a-z0-9.+-]+:)/i,K=/:[0-9]*$/,H=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,V=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),J=["'"].concat(V),X=["%","/","?",";","#"].concat(J),Y=["/","?","#"],z=/^[+a-z0-9A-Z_-]{0,63}$/,$=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Z={javascript:!0,"javascript:":!0},Q={javascript:!0,"javascript:":!0},ee={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function te(e,t,r){if(e&&N.isObject(e)&&e instanceof B)return e;var n=new B;return n.parse(e,t,r),n}M=o("61XKN"),W=o("ffBBu"),B.prototype.parse=function(e,r,n){if(!N.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+(void 0===e?"undefined":t(G)(e)));var o=e.indexOf("?"),a=-1!==o&&o<e.indexOf("#")?"?":"#",i=e.split(a);i[0]=i[0].replace(/\\/g,"/");var s=e=i.join(a);if(s=s.trim(),!n&&1===e.split("#").length){var u=H.exec(s);if(u)return this.path=s,this.href=s,this.pathname=u[1],u[2]?(this.search=u[2],this.query=r?M(this.search.substr(1)):this.search.substr(1)):r&&(this.search="",this.query={}),this}var c=F.exec(s);if(c){var h=(c=c[0]).toLowerCase();this.protocol=h,s=s.substr(c.length)}if(n||c||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var l="//"===s.substr(0,2);!l||c&&Q[c]||(s=s.substr(2),this.slashes=!0)}if(!Q[c]&&(l||c&&!ee[c])){for(var f,p,d=-1,y=0;y<Y.length;y++){-1!==(v=s.indexOf(Y[y]))&&(-1===d||v<d)&&(d=v)}-1!==(p=-1===d?s.lastIndexOf("@"):s.lastIndexOf("@",d))&&(f=s.slice(0,p),s=s.slice(p+1),this.auth=decodeURIComponent(f)),d=-1;for(y=0;y<X.length;y++){var v;-1!==(v=s.indexOf(X[y]))&&(-1===d||v<d)&&(d=v)}-1===d&&(d=s.length),this.host=s.slice(0,d),s=s.slice(d),this.parseHost(),this.hostname=this.hostname||"";var b="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!b)for(var g=this.hostname.split(/\./),m=(y=0,g.length);y<m;y++){var w=g[y];if(w&&!w.match(z)){for(var x="",_=0,k=w.length;_<k;_++)w.charCodeAt(_)>127?x+="x":x+=w[_];if(!x.match(z)){var E=g.slice(0,y),O=g.slice(y+1),S=w.match($);S&&(E.push(S[1]),O.unshift(S[2])),O.length&&(s="/"+O.join(".")+s),this.hostname=E.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),b||(this.hostname=q.toASCII(this.hostname));var A=this.port?":"+this.port:"",L=this.hostname||"";this.host=L+A,this.href+=this.host,b&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!Z[h])for(y=0,m=J.length;y<m;y++){var P=J[y];if(-1!==s.indexOf(P)){var R=encodeURIComponent(P);R===P&&(R=escape(P)),s=s.split(P).join(R)}}var I=s.indexOf("#");-1!==I&&(this.hash=s.substr(I),s=s.slice(0,I));var j=s.indexOf("?");if(-1!==j?(this.search=s.substr(j),this.query=s.substr(j+1),r&&(this.query=M(this.query)),s=s.slice(0,j)):r&&(this.search="",this.query={}),s&&(this.pathname=s),ee[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){A=this.pathname||"";var T=this.search||"";this.path=A+T}return this.href=this.format(),this},B.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&N.isObject(this.query)&&Object.keys(this.query).length&&(a=W(this.query));var i=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||ee[t])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),i&&"?"!==i.charAt(0)&&(i="?"+i),t+o+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(i=i.replace("#","%23"))+n},B.prototype.resolve=function(e){return this.resolveObject(te(e,!1,!0)).format()},B.prototype.resolveObject=function(e){if(N.isString(e)){var t=new B;t.parse(e,!1,!0),e=t}for(var r=new B,n=Object.keys(this),o=0;o<n.length;o++){var a=n[o];r[a]=this[a]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var i=Object.keys(e),s=0;s<i.length;s++){var u=i[s];"protocol"!==u&&(r[u]=e[u])}return ee[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!ee[e.protocol]){for(var c=Object.keys(e),h=0;h<c.length;h++){var l=c[h];r[l]=e[l]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||Q[e.protocol])r.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var p=r.pathname||"",d=r.search||"";r.path=p+d}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var y=r.pathname&&"/"===r.pathname.charAt(0),v=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=v||y||r.host&&e.pathname,g=b,m=r.pathname&&r.pathname.split("/")||[],w=(f=e.pathname&&e.pathname.split("/")||[],r.protocol&&!ee[r.protocol]);if(w&&(r.hostname="",r.port=null,r.host&&(""===m[0]?m[0]=r.host:m.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),b=b&&(""===f[0]||""===m[0])),v)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,m=f;else if(f.length)m||(m=[]),m.pop(),m=m.concat(f),r.search=e.search,r.query=e.query;else if(!N.isNullOrUndefined(e.search)){if(w)r.hostname=r.host=m.shift(),(O=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=O.shift(),r.host=r.hostname=O.shift());return r.search=e.search,r.query=e.query,N.isNull(r.pathname)&&N.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!m.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var x=m.slice(-1)[0],_=(r.host||e.host||m.length>1)&&("."===x||".."===x)||""===x,k=0,E=m.length;E>=0;E--)"."===(x=m[E])?m.splice(E,1):".."===x?(m.splice(E,1),k++):k&&(m.splice(E,1),k--);if(!b&&!g)for(;k--;k)m.unshift("..");!b||""===m[0]||m[0]&&"/"===m[0].charAt(0)||m.unshift(""),_&&"/"!==m.join("/").substr(-1)&&m.push("");var O,S=""===m[0]||m[0]&&"/"===m[0].charAt(0);w&&(r.hostname=r.host=S?"":m.length?m.shift():"",(O=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=O.shift(),r.host=r.hostname=O.shift()));return(b=b||r.host&&m.length)&&!S&&m.unshift(""),m.length?r.pathname=m.join("/"):(r.pathname=null,r.path=null),N.isNull(r.pathname)&&N.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},B.prototype.parseHost=function(){var e=this.host,t=K.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var re,ne="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==ne&&ne,oe="URLSearchParams"in ne,ae="Symbol"in ne&&"iterator"in Symbol,ie="FileReader"in ne&&"Blob"in ne&&function(){try{return new Blob,!0}catch(e){return!1}}(),se="FormData"in ne,ue="ArrayBuffer"in ne;if(ue)var ce=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],he=ArrayBuffer.isView||function(e){return e&&ce.indexOf(Object.prototype.toString.call(e))>-1};function le(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function fe(e){return"string"!=typeof e&&(e=String(e)),e}function pe(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return ae&&(t[Symbol.iterator]=function(){return t}),t}function de(e){this.map={},e instanceof de?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function ye(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function ve(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function be(e){var t=new FileReader,r=ve(t);return t.readAsArrayBuffer(e),r}function ge(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function me(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:ie&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:se&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:oe&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():ue&&ie&&function(e){return e&&DataView.prototype.isPrototypeOf(e)}(e)?(this._bodyArrayBuffer=ge(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):ue&&(ArrayBuffer.prototype.isPrototypeOf(e)||he(e))?this._bodyArrayBuffer=ge(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):oe&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},ie&&(this.blob=function(){var e=ye(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=ye(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(be)}),this.text=function(){var e,t,r,n=ye(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=ve(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},se&&(this.formData=function(){return this.text().then(_e)}),this.json=function(){return this.text().then(JSON.parse)},this}de.prototype.append=function(e,t){e=le(e),t=fe(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},de.prototype.delete=function(e){delete this.map[le(e)]},de.prototype.get=function(e){return e=le(e),this.has(e)?this.map[e]:null},de.prototype.has=function(e){return this.map.hasOwnProperty(le(e))},de.prototype.set=function(e,t){this.map[le(e)]=fe(t)},de.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},de.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),pe(e)},de.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),pe(e)},de.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),pe(e)},ae&&(de.prototype[Symbol.iterator]=de.prototype.entries);var we=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function xe(e,t){if(!(this instanceof xe))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,n,o=(t=t||{}).body;if(e instanceof xe){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new de(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new de(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),we.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var a=/([?&])_=[^&]*/;if(a.test(this.url))this.url=this.url.replace(a,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function _e(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}})),t}function ke(e,t){if(!(this instanceof ke))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new de(t.headers),this.url=t.url||"",this._initBody(e)}xe.prototype.clone=function(){return new xe(this,{body:this._bodyInit})},me.call(xe.prototype),me.call(ke.prototype),ke.prototype.clone=function(){return new ke(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new de(this.headers),url:this.url})},ke.error=function(){var e=new ke(null,{status:0,statusText:""});return e.type="error",e};var Ee=[301,302,303,307,308];ke.redirect=function(e,t){if(-1===Ee.indexOf(t))throw new RangeError("Invalid status code");return new ke(null,{status:t,headers:{location:e}})};var Oe=ne.DOMException;try{new Oe}catch(e){(Oe=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack}).prototype=Object.create(Error.prototype),Oe.prototype.constructor=Oe}function Se(e,t){return new Promise((function(r,n){var o=new xe(e,t);if(o.signal&&o.signal.aborted)return n(new Oe("Aborted","AbortError"));var a=new XMLHttpRequest;function i(){a.abort()}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new de,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}})),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;setTimeout((function(){r(new ke(o,n))}),0)},a.onerror=function(){setTimeout((function(){n(new TypeError("Network request failed"))}),0)},a.ontimeout=function(){setTimeout((function(){n(new TypeError("Network request failed"))}),0)},a.onabort=function(){setTimeout((function(){n(new Oe("Aborted","AbortError"))}),0)},a.open(o.method,function(e){try{return""===e&&ne.location.href?ne.location.href:e}catch(t){return e}}(o.url),!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&(ie?a.responseType="blob":ue&&o.headers.get("Content-Type")&&-1!==o.headers.get("Content-Type").indexOf("application/octet-stream")&&(a.responseType="arraybuffer")),!t||"object"!=typeof t.headers||t.headers instanceof de?o.headers.forEach((function(e,t){a.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){a.setRequestHeader(e,fe(t.headers[e]))})),o.signal&&(o.signal.addEventListener("abort",i),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",i)}),a.send(void 0===o._bodyInit?null:o._bodyInit)}))}Se.polyfill=!0,ne.fetch||(ne.fetch=Se,ne.Headers=de,ne.Request=xe,ne.Response=ke),re=self.fetch.bind(self);var Ae,Le,Pe,Re,Ie,je,Te="https://api.slashid.dev".replace(/\/+$/,""),Ce=function e(r){"use strict";var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Te,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:re;t(u)(this,e),this.basePath=n,this.fetch=o,r&&(this.configuration=r,this.basePath=r.basePath||this.basePath)},Ue=function(e){"use strict";t(w)(n,e);var r=t(R)(n);function n(e,o){var a;return t(u)(this,n),(a=r.call(this,o)).field=e,a}return n}(t(k)(Error));(Le=Ae||(Ae={}))[Le.Proxy="proxy"]="Proxy",Le[Le.WebauthnCreate="webauthn_create"]="WebauthnCreate",Le[Le.WebauthnGet="webauthn_get"]="WebauthnGet",Le[Le.Nonce="nonce"]="Nonce",Le[Le.Otp="otp"]="Otp",(Re=Pe||(Pe={}))[Re.Webauthn="webauthn"]="Webauthn",Re[Re.WebauthnViaEmail="webauthn_via_email"]="WebauthnViaEmail",Re[Re.WebauthnViaSms="webauthn_via_sms"]="WebauthnViaSms",Re[Re.EmailLink="email_link"]="EmailLink",Re[Re.SmsLink="sms_link"]="SmsLink",Re[Re.OtpViaSms="otp_via_sms"]="OtpViaSms",(je=Ie||(Ie={}))[je.EmailAddress="email_address"]="EmailAddress",je[je.PhoneNumber="phone_number"]="PhoneNumber";var De,Ne,Ge=function(e){return{attestationPost:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null==e)throw new Ue("body","Required parameter body was null or undefined when calling attestationPost.");var n="/attestation",o=U(n,!0),a=Object.assign({method:"POST"},r),i={},s={};null!=t&&(i["X-SLASHID-USERTOKEN"]=String(t)),i["Content-Type"]="application/json",o.query=Object.assign({},o.query,s,r.query),delete o.search,a.headers=Object.assign({},i,r.headers);var u=!0;return a.body=u?JSON.stringify(e||{}):e||"",{url:D(o),options:a}},attributesDelete:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null==e)throw new Ue("names","Required parameter names was null or undefined when calling attributesDelete.");var n="/attributes",o=U(n,!0),a=Object.assign({method:"DELETE"},r),i={},s={};return e&&(s.names=e),null!=t&&(i["X-SLASHID-USERTOKEN"]=String(t)),o.query=Object.assign({},o.query,s,r.query),delete o.search,a.headers=Object.assign({},i,r.headers),{url:D(o),options:a}},attributesGet:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n="/attributes",o=U(n,!0),a=Object.assign({method:"GET"},r),i={},s={};return t&&(s.names=t),null!=e&&(i["X-SLASHID-USERTOKEN"]=String(e)),o.query=Object.assign({},o.query,s,r.query),delete o.search,a.headers=Object.assign({},i,r.headers),{url:D(o),options:a}},attributesPut:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null==e)throw new Ue("body","Required parameter body was null or undefined when calling attributesPut.");var n="/attributes",o=U(n,!0),a=Object.assign({method:"PUT"},r),i={},s={};null!=t&&(i["X-SLASHID-USERTOKEN"]=String(t)),i["Content-Type"]="application/json",o.query=Object.assign({},o.query,s,r.query),delete o.search,a.headers=Object.assign({},i,r.headers);var u=!0;return a.body=u?JSON.stringify(e||{}):e||"",{url:D(o),options:a}},challengeGet:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null==e)throw new Ue("challenge_id","Required parameter challenge_id was null or undefined when calling challengeGet.");var n="/challenge",o=U(n,!0),a=Object.assign({method:"GET"},r),i={},s={};return void 0!==e&&(s.challenge_id=e),null!=t&&(i["X-SLASHID-USERTOKEN"]=String(t)),o.query=Object.assign({},o.query,s,r.query),delete o.search,a.headers=Object.assign({},i,r.headers),{url:D(o),options:a}},idPost:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(null==e)throw new Ue("body","Required parameter body was null or undefined when calling idPost.");if(null==t)throw new Ue("X_SLASHID_OID","Required parameter X_SLASHID_OID was null or undefined when calling idPost.");var o="/id",a=U(o,!0),i=Object.assign({method:"POST"},n),s={},u={};null!=t&&(s["X-SLASHID-OID"]=String(t)),null!=r&&(s["X-SLASHID-USERTOKEN"]=String(r)),s["Content-Type"]="application/json",a.query=Object.assign({},a.query,u,n.query),delete a.search,i.headers=Object.assign({},s,n.headers);var c=!0;return i.body=c?JSON.stringify(e||{}):e||"",{url:D(a),options:i}}}},qe=function(e){return{attestationPost:function(e,t,r){var n=Ge().attestationPost(e,t,r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Te;return e(t+n.url,n.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}},attributesDelete:function(e,t,r){var n=Ge().attributesDelete(e,t,r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Te;return e(t+n.url,n.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}},attributesGet:function(e,t,r){var n=Ge().attributesGet(e,t,r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Te;return e(t+n.url,n.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}},attributesPut:function(e,t,r){var n=Ge().attributesPut(e,t,r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Te;return e(t+n.url,n.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}},challengeGet:function(e,t,r){var n=Ge().challengeGet(e,t,r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Te;return e(t+n.url,n.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}},idPost:function(e,t,r,n){var o=Ge().idPost(e,t,r,n);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Te;return e(t+o.url,o.options).then((function(e){if(e.status>=200&&e.status<300)return e.json();throw e}))}}}},Be=function(e){"use strict";t(w)(n,e);var r=t(R)(n);function n(){return t(u)(this,n),r.apply(this,arguments)}return t(c)(n,[{key:"attestationPost",value:function(e,t,r){return qe(this.configuration).attestationPost(e,t,r)(this.fetch,this.basePath)}},{key:"attributesDelete",value:function(e,t,r){return qe(this.configuration).attributesDelete(e,t,r)(this.fetch,this.basePath)}},{key:"attributesGet",value:function(e,t,r){return qe(this.configuration).attributesGet(e,t,r)(this.fetch,this.basePath)}},{key:"attributesPut",value:function(e,t,r){return qe(this.configuration).attributesPut(e,t,r)(this.fetch,this.basePath)}},{key:"challengeGet",value:function(e,t,r){return qe(this.configuration).challengeGet(e,t,r)(this.fetch,this.basePath)}},{key:"idPost",value:function(e,t,r,n){return qe(this.configuration).idPost(e,t,r,n)(this.fetch,this.basePath)}}]),n}(Ce),Me=function(){"use strict";function e(r,n){t(u)(this,e);try{r=JSON.parse(r)}catch(e){}if("string"!=typeof r)throw new TypeError("token must be a string");this._token=r,this._slashid=new vt(n),this._attrsClient=new Be({basePath:this._slashid.baseURL})}return t(c)(e,[{key:"decoded",get:function(){try{return m(this._token)}catch(e){throw new TypeError(e.toString())}}},{key:"ID",get:function(){return this.decoded.id}},{key:"token",get:function(){return this._token}},{key:"firstLogin",get:function(){return this.decoded.first_token}},{key:"authentication",get:function(){return this.decoded.authenticated_methods}},{key:"get",value:function(e){var r=this;return t(i)(t(l).mark((function n(){var o,a,i;return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,null===(o=r._attrsClient)||void 0===o?void 0:o.attributesGet(r._token,e,{cache:"no-cache"});case 3:if(a=t.sent,!(i=a.errors)){t.next=7;break}throw i;case 7:return t.abrupt("return",a.result);case 8:case"end":return t.stop()}}),n)})))()}},{key:"set",value:function(e){var r=this;return t(i)(t(l).mark((function n(){var o,a,i;return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,null===(o=r._attrsClient)||void 0===o?void 0:o.attributesPut(e,r._token,{cache:"no-cache"});case 3:if(a=t.sent,!(i=a.errors)){t.next=7;break}throw i;case 7:return t.abrupt("return");case 8:case"end":return t.stop()}}),n)})))()}},{key:"delete",value:function(e){var r=this;return t(i)(t(l).mark((function n(){var o,a,i;return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,null===(o=r._attrsClient)||void 0===o?void 0:o.attributesDelete(e,r._token,{cache:"no-cache"});case 3:if(a=t.sent,!(i=a.errors)){t.next=7;break}throw i;case 7:return t.abrupt("return");case 8:case"end":return t.stop()}}),n)})))()}},{key:"mfa",value:function(e,r){var n=this;return t(i)(t(l).mark((function o(){var a,i;return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=void 0,e){t.next=3;break}throw new Error("at least one of PersonIdentifier or Factor is required");case 3:return e.type&&e.value&&(a=e),e.method&&(r=e),t.next=7,n._slashid._id(n.decoded.oid,a,r,n._token);case 7:return i=t.sent,n._token=i._token,t.abrupt("return");case 10:case"end":return t.stop()}}),o)})))()}},{key:"toString",value:function(){return this._token}},{key:"toJSON",value:function(){return"".concat(this._token)}}]),e}(),We={};Object.defineProperty(We,"__esModule",{value:!0}),We.default=function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e},(Ne=De||(De={}))[Ne.StorageGetItem=0]="StorageGetItem",Ne[Ne.StorageSetItem=1]="StorageSetItem",Ne[Ne.Ping=2]="Ping",Ne[Ne.ChallengeWebauthnCreate=3]="ChallengeWebauthnCreate",Ne[Ne.ChallengeWebauthnGet=4]="ChallengeWebauthnGet";var Fe=function e(){"use strict";t(u)(this,e),t(We)(this,"id",Qe()),t(We)(this,"type",De.Ping)},Ke=function e(r,n){"use strict";t(u)(this,e),this.id=r,this.error=n},He=function e(r,n){"use strict";t(u)(this,e),t(We)(this,"type",De.ChallengeWebauthnCreate),this.id=Qe(),this.slashIDOptions=r,this.challenge=n},Ve=function e(r,n,o){"use strict";t(u)(this,e),this.id=r,this.attestation=n,this.error=o},Je=function e(r,n){"use strict";t(u)(this,e),t(We)(this,"type",De.ChallengeWebauthnGet),this.id=Qe(),this.slashIDOptions=r,this.challenge=n},Xe=function e(r,n,o){"use strict";t(u)(this,e),this.id=r,this.attestation=n,this.error=o},Ye=function e(r){"use strict";t(u)(this,e),t(We)(this,"type",De.StorageGetItem),t(We)(this,"id",Qe()),this.key=r},ze=function e(r,n,o){"use strict";t(u)(this,e),this.id=r,this.value=n,this.error=o},$e=function e(r,n){"use strict";t(u)(this,e),t(We)(this,"id",Qe()),t(We)(this,"type",De.StorageSetItem),this.key=r,this.value=n},Ze=function e(r,n){"use strict";t(u)(this,e),this.id=r,this.error=n};function Qe(){var e=new Uint32Array(1);return window.crypto.getRandomValues(e),e[0]}var et={};Object.defineProperty(et,"__esModule",{value:!0}),et.default=function(e){return tt.default(e)||rt.default(e)||ot.default(e)||nt.default()};var tt=at(o("cS66w")),rt=at(o("d2veR")),nt=at(o("lHjDW")),ot=at(o("5wdK0"));function at(e){return e&&e.__esModule?e:{default:e}}function it(e){var t=e.replace(/_/g,"/").replace(/-/g,"+"),r=atob(t);return Uint8Array.from(r,(function(e){return e.charCodeAt(0)}))}function st(e){var r,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=(r=String).fromCharCode.apply(r,t(et)(e)),a=btoa(o);return n?a.replace(/\//g,"_").replace(/\+/g,"-").replace(/=/g,""):a}function ut(e){return new Promise((function(t){return setTimeout(t,e)}))}function ct(e){return ht.apply(this,arguments)}function ht(){return ht=t(i)(t(l).mark((function e(r){var n;return t(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Promise(function(){var e=t(i)(t(l).mark((function e(n,o){var a,i,s;return t(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=new Fe,i=!1,s=function(e){var t=e.data;t.id===a.id&&(window.removeEventListener("message",s),t.error?o(t.error):(i=!0,n(r)))},window.addEventListener("message",s);case 4:if(i){e.next=10;break}return r.postMessage(a,"*"),e.next=8,ut(50);case 8:e.next=4;break;case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)}))),ht.apply(this,arguments)}var lt=function(){"use strict";function e(r){t(u)(this,e),t(We)(this,"remoteReady",!1),this.remote=r,this.remote||window.addEventListener("message",this.processEvent.bind(this))}return t(c)(e,[{key:"getRemoteWindow",value:function(){var e=this;return t(i)(t(l).mark((function r(){var n,o;return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=null===(n=e.remote)||void 0===n?void 0:n.contentWindow){t.next=4;break}throw new Error("this context has no remote");case 4:if(!e.remoteReady){t.next=6;break}return t.abrupt("return",o);case 6:return t.next=8,ct(o);case 8:return e.remoteReady=!0,t.abrupt("return",o);case 10:case"end":return t.stop()}}),r)})))()}},{key:"processEvent",value:function(e){var r=this;return t(i)(t(l).mark((function n(){var o,a,i,s;return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=null,window.parent&&e.source===window.parent&&(o=window.parent),o){t.next=4;break}return t.abrupt("return");case 4:t.t0=e.data.type,t.next=t.t0===De.StorageGetItem?7:t.t0===De.StorageSetItem?19:30;break;case 7:return a=e.data,t.prev=8,t.next=11,r.localGetItem(a.key);case 11:i=t.sent,o.postMessage(new ze(e.data.id,i),"*"),t.next=18;break;case 15:t.prev=15,t.t1=t.catch(8),o.postMessage(new ze(e.data.id,null,t.t1),"*");case 18:return t.abrupt("break",31);case 19:return s=e.data,t.prev=20,t.next=23,r.localSetItem(s.key,s.value);case 23:o.postMessage(new Ze(e.data.id),"*"),t.next=29;break;case 26:t.prev=26,t.t2=t.catch(20),o.postMessage(new Ze(e.data.id,t.t2),"*");case 29:case 30:return t.abrupt("break",31);case 31:case"end":return t.stop()}}),n,null,[[8,15],[20,26]])})))()}},{key:"localGetItem",value:function(e){return t(i)(t(l).mark((function r(){return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",window.localStorage.getItem(e));case 1:case"end":return t.stop()}}),r)})))()}},{key:"remoteGetItem",value:function(e){var r=this;return t(i)(t(l).mark((function n(){var o;return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=null,!r.remote){t.next=6;break}return r.remote.contentWindow,t.next=5,new Promise((function(t,n){var o=new Ye(e),a=function(e){var r=e.data;r.id===o.id&&(window.removeEventListener("message",a),r.error?n(r.error):t(r.value))};window.addEventListener("message",a),r.getRemoteWindow().then((function(e){e.postMessage(o,"*")}))}));case 5:o=t.sent;case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),n)})))()}},{key:"localSetItem",value:function(e,r){return t(i)(t(l).mark((function n(){return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",window.localStorage.setItem(e,r));case 1:case"end":return t.stop()}}),n)})))()}},{key:"remoteSetItem",value:function(e,r){var n=this;return t(i)(t(l).mark((function o(){return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.remote){t.next=3;break}return t.next=3,new Promise((function(t,o){var a=new $e(e,r),i=function(e){var r=e.data;r.id===a.id&&(window.removeEventListener("message",i),r.error?o(r.error):t())};window.addEventListener("message",i),n.getRemoteWindow().then((function(e){e.postMessage(a,"*")}))}));case 3:case"end":return t.stop()}}),o)})))()}}]),e}(),ft=function e(r){"use strict";t(u)(this,e),this.store=r},pt=function(e){"use strict";t(w)(n,e);var r=t(R)(n);function n(){return t(u)(this,n),r.apply(this,arguments)}return t(c)(n,[{key:"stringify",value:function(e){return JSON.stringify(e)}},{key:"parse",value:function(e){return e?JSON.parse(e):[]}},{key:"getAll",value:function(){var e=this;return t(i)(t(l).mark((function r(){var o,a;return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e.store.localGetItem(n.LOCAL_STORAGE_IDENTIFIERS_KEY);case 3:return t.t1=t.sent,o=t.t0.parse.call(t.t0,t.t1),t.t2=e,t.next=8,e.store.remoteGetItem(n.LOCAL_STORAGE_IDENTIFIERS_KEY);case 8:return t.t3=t.sent,a=t.t2.parse.call(t.t2,t.t3),t.abrupt("return",n.merge(o,a));case 11:case"end":return t.stop()}}),r)})))()}},{key:"add",value:function(e){var r=this;return t(i)(t(l).mark((function o(){var a,i;return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.getAll();case 2:return a=t.sent,i=r.stringify(n.merge(a,[e])),t.next=6,r.store.localSetItem(n.LOCAL_STORAGE_IDENTIFIERS_KEY,i);case 6:return t.next=8,r.store.remoteSetItem(n.LOCAL_STORAGE_IDENTIFIERS_KEY,i);case 8:case"end":return t.stop()}}),o)})))()}}],[{key:"identifiersEqual",value:function(e,t){return e.type===t.type&&e.value===t.value}},{key:"merge",value:function(e,r){var o;return(o=e).concat.apply(o,t(et)(r)).reduce((function(e,t){var r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var u=i.value;if(n.identifiersEqual(u,t))return e}}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return e.push(t),e}),[])}}]),n}(ft);t(We)(pt,"LOCAL_STORAGE_IDENTIFIERS_KEY","SLASHID_IDENTIFIERS");var dt=function(e){"use strict";t(w)(n,e);var r=t(R)(n);function n(){return t(u)(this,n),r.apply(this,arguments)}return t(c)(n,[{key:"stringify",value:function(e){return JSON.stringify(e)}},{key:"parse",value:function(e){if(!e)return[];var t=null;try{t=JSON.parse(e)}catch(t){return[e]}return Array.isArray(t)?t.filter((function(e){return"string"==typeof e})):[]}},{key:"getAll",value:function(){var e=this;return t(i)(t(l).mark((function r(){var o,a;return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e.store.localGetItem(n.LOCAL_STORAGE_WEBAUTHN_CREDENTIAL_ID_KEY);case 3:return t.t1=t.sent,o=t.t0.parse.call(t.t0,t.t1),t.t2=e,t.next=8,e.store.remoteGetItem(n.LOCAL_STORAGE_WEBAUTHN_CREDENTIAL_ID_KEY);case 8:return t.t3=t.sent,a=t.t2.parse.call(t.t2,t.t3),t.abrupt("return",n.merge(o,a));case 11:case"end":return t.stop()}}),r)})))()}},{key:"add",value:function(e){var r=this;return t(i)(t(l).mark((function o(){var a,i;return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.getAll();case 2:return a=t.sent,i=r.stringify(n.merge(a,[e])),t.next=6,r.store.localSetItem(n.LOCAL_STORAGE_WEBAUTHN_CREDENTIAL_ID_KEY,i);case 6:return t.next=8,r.store.remoteSetItem(n.LOCAL_STORAGE_WEBAUTHN_CREDENTIAL_ID_KEY,i);case 8:case"end":return t.stop()}}),o)})))()}}],[{key:"identifiersEqual",value:function(e,t){return e===t}},{key:"merge",value:function(e,r){var o;return(o=e).concat.apply(o,t(et)(r)).reduce((function(e,t){var r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var u=i.value;if(n.identifiersEqual(u,t))return e}}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return e.push(t),e}),[])}}]),n}(ft);t(We)(dt,"LOCAL_STORAGE_WEBAUTHN_CREDENTIAL_ID_KEY","SLASHID_WEBAUTHN_CREDENTIAL_ID");var yt="__SlashID_iframe",vt=function(){"use strict";function e(r){t(u)(this,e),r&&d(r),this.baseURL=(null==r?void 0:r.baseURL)?r.baseURL:"https://sandbox.slashid.dev/auth",this.sdkURL=(null==r?void 0:r.sdkURL)?r.sdkURL:"https://cdn.slashid.dev/sdk.html",this.authnClient=new Be({basePath:this.baseURL}),this.iframe=this.setupIFrame();var n=new lt(this.iframe);this.identifiersStorage=new pt(n),this.credentialStorage=new dt(n),this.urlChallengesUser=null,this.listenForEvents()}return t(c)(e,[{key:"getUserFromURL",value:function(){var e=this;return t(i)(t(l).mark((function r(){var n,o,a,i,s,u,c,h,f,p,d,y,v,b;return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.urlChallengesUser){t.next=36;break}if(n=window.location.search,o=new URLSearchParams(n),!(a=o.get("challenges"))){t.next=36;break}i=it(a),s=new TextDecoder("utf-8").decode(i),u=JSON.parse(s),c=void 0,h=!0,f=!1,p=void 0,t.prev=10,d=u[Symbol.iterator]();case 12:if(h=(y=d.next()).done){t.next=21;break}return v=y.value,b=v,t.next=17,e.processChallenge(b,void 0,c);case 17:c=t.sent;case 18:h=!0,t.next=12;break;case 21:t.next=27;break;case 23:t.prev=23,t.t0=t.catch(10),f=!0,p=t.t0;case 27:t.prev=27,t.prev=28,h||null==d.return||d.return();case 30:if(t.prev=30,!f){t.next=33;break}throw p;case 33:return t.finish(30);case 34:return t.finish(27);case 35:e.urlChallengesUser=new Me(c,{baseURL:e.baseURL,sdkURL:e.sdkURL});case 36:return t.abrupt("return",e.urlChallengesUser);case 37:case"end":return t.stop()}}),r,null,[[10,23,27,35],[28,,30,34]])})))()}},{key:"processEvent",value:function(e){var r=this;return t(i)(t(l).mark((function n(){var o,a,i,s,u,c;return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=null,window.opener&&e.source===window.opener&&(o=window.opener),window.parent&&e.source===window.parent&&(o=window.parent),o){t.next=5;break}return t.abrupt("return");case 5:if(e.data.type===De.Ping){a=e.data;try{o.postMessage(new Ke(a.id),"*")}catch(e){o.postMessage(new Ke(a.id,e.toString()),"*")}}if(e.data.type!==De.ChallengeWebauthnCreate){t.next=18;break}return i=e.data,t.prev=8,t.next=11,r.processWebAuthnCreateChallenge(i.challenge);case 11:s=t.sent,o.postMessage(new Ve(i.id,s),"*"),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(8),o.postMessage(new Ve(i.id,null,t.t0.toString()),"*");case 18:if(e.data.type!==De.ChallengeWebauthnGet){t.next=30;break}return u=e.data,t.prev=20,t.next=23,r.processWebAuthnGetChallenge(u.challenge);case 23:c=t.sent,o.postMessage(new Xe(u.id,c),"*"),t.next=30;break;case 27:t.prev=27,t.t1=t.catch(20),o.postMessage(new Xe(u.id,null,t.t1.toString()),"*");case 30:case"end":return t.stop()}}),n,null,[[8,15],[20,27]])})))()}},{key:"listenForEvents",value:function(){var e=this;return t(i)(t(l).mark((function r(){return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.addEventListener("message",e.processEvent.bind(e));case 1:case"end":return t.stop()}}),r)})))()}},{key:"setupIFrame",value:function(){var e=this.getSDKUrl().toString();if(window.location.href===e)return null;var t=document.getElementById(yt);return t&&t.src!==e&&(t.remove(),t=null),t||((t=document.createElement("iframe")).id=yt,t.allow="publickey-credentials-get *",t.src=e,t.style.display="none",document.body.appendChild(t)),t}},{key:"getAvailableAuthenticationMethods",value:function(e){return t(i)(t(l).mark((function r(){var n;return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],t.t0=e,t.next=t.t0===Ie.EmailAddress?4:t.t0===Ie.PhoneNumber?6:8;break;case 4:return n.push(Pe.WebauthnViaEmail,Pe.EmailLink),t.abrupt("break",9);case 6:return n.push(Pe.WebauthnViaSms,Pe.SmsLink,Pe.OtpViaSms),t.abrupt("break",9);case 8:throw new Error("unhandled identifier type: ".concat(e));case 9:if(!navigator||!window.PublicKeyCredential){t.next=17;break}if(t.t1=!0,t.t1){t.next=15;break}return t.next=14,window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable();case 14:t.t1=t.sent;case 15:if(!t.t1){t.next=17;break}n.unshift(Pe.Webauthn);case 17:return t.abrupt("return",n);case 18:case"end":return t.stop()}}),r)})))()}},{key:"id",value:function(e,r,n){var o=this;return t(i)(t(l).mark((function a(){return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o._id(e,r,n));case 1:case"end":return t.stop()}}),a)})))()}},{key:"_id",value:function(e,r,n,o){var a=this;return t(i)(t(l).mark((function i(){var s,u,c,h,f,p,d,v,b,g,m;return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=15;break}t.t0=n.method,t.next=t.t0===Pe.Webauthn.toString()||t.t0===Pe.WebauthnViaEmail.toString()||t.t0===Pe.WebauthnViaSms.toString()?4:t.t0===Pe.OtpViaSms.toString()?12:14;break;case 4:return(s=n.options)&&s.scope||(s={scope:"slashid.dev"}),t.next=8,a.credentialStorage.getAll();case 8:return(u=t.sent)&&(s.available_credential_ids=u),n.options=s,t.abrupt("break",15);case 12:return n.options=new y(n.options),t.abrupt("break",15);case 14:return t.abrupt("break",15);case 15:return t.next=17,a.authnClient.idPost({identifier:r,factor:n},e,o,{cache:"no-cache"});case 17:if(!(c=t.sent).errors){t.next=20;break}throw c;case 20:if(h=c.result){t.next=23;break}throw new Error("no challenges in ID response");case 23:f=o,p=!0,d=!1,v=void 0,t.prev=25,b=h[Symbol.iterator]();case 27:if(p=(g=b.next()).done){t.next=35;break}return m=g.value,t.next=31,a.processChallenge(m,n,f);case 31:f=t.sent;case 32:p=!0,t.next=27;break;case 35:t.next=41;break;case 37:t.prev=37,t.t1=t.catch(25),d=!0,v=t.t1;case 41:t.prev=41,t.prev=42,p||null==b.return||b.return();case 44:if(t.prev=44,!d){t.next=47;break}throw v;case 47:return t.finish(44);case 48:return t.finish(41);case 49:if(r)try{a.identifiersStorage.add(r)}catch(e){console.warn(e)}return t.abrupt("return",new Me(f,{baseURL:a.baseURL,sdkURL:a.sdkURL}));case 51:case"end":return t.stop()}}),i,null,[[25,37,41,49],[42,,44,48]])})))()}},{key:"getAvailableIdentifiers",value:function(){var e=this;return t(i)(t(l).mark((function r(){return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.abrupt("return",e.identifiersStorage.getAll());case 4:return t.prev=4,t.t0=t.catch(0),console.warn(t.t0),t.abrupt("return",[]);case 8:case"end":return t.stop()}}),r,null,[[0,4]])})))()}},{key:"processChallenge",value:function(e,r,n){var o=this;return t(i)(t(l).mark((function a(){var i,s,u,c,h;return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next=t.t0===Ae.Proxy?4:t.t0===Ae.Nonce?5:t.t0===Ae.Otp?9:t.t0===Ae.WebauthnGet?14:t.t0===Ae.WebauthnCreate?18:22;break;case 4:return t.abrupt("return",o.processProxyChallenge(e,n));case 5:return t.next=7,o.processNonceChallenge(e);case 7:return i=t.sent,t.abrupt("break",24);case 9:return s=new y(null==r?void 0:r.options),t.next=12,o.processOTPChallenge(e,s);case 12:return i=t.sent,t.abrupt("break",24);case 14:return t.next=16,o.processWebAuthnGetChallenge(e);case 16:return i=t.sent,t.abrupt("break",24);case 18:return t.next=20,o.processWebAuthnCreateChallenge(e);case 20:return i=t.sent,t.abrupt("break",24);case 22:throw new Error("unhandled challenge type: "+(null===(u=e.type)||void 0===u?void 0:u.toString()));case 24:return t.prev=25,t.next=28,o.authnClient.attestationPost(i,n,{cache:"no-cache"});case 28:c=t.sent,t.next=36;break;case 31:return t.prev=31,t.t1=t.catch(25),t.next=35,t.t1.json();case 35:c=t.sent;case 36:if(!c.errors){t.next=40;break}if(401!==c.errors[0].httpcode||e.type!==Ae.Otp){t.next=39;break}return t.abrupt("return",o.processChallenge(e,r,n));case 39:throw c;case 40:if(h=c.result){t.next=43;break}throw new Error("no user token in attestation response");case 43:return e.type===Ae.WebauthnCreate&&o.credentialStorage.add(i.data.rawId),t.abrupt("return",h);case 45:case"end":return t.stop()}}),a,null,[[25,31]])})))()}},{key:"processProxyChallenge",value:function(e,r){var n=this;return t(i)(t(l).mark((function o(){var a,i;return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=void 0;case 1:if(a){t.next=13;break}return t.next=4,ut(1e3);case 4:return t.next=6,n.authnClient.challengeGet(e.options.challenge_id,r,{cache:"no-cache"});case 6:if(!(i=t.sent).errors){t.next=10;break}if(1===i.errors.length&&202===i.errors[0].httpcode){t.next=10;break}throw i;case 10:a=i.result,t.next=1;break;case 13:return t.abrupt("return",a);case 14:case"end":return t.stop()}}),o)})))()}},{key:"processNonceChallenge",value:function(e){return t(i)(t(l).mark((function r(){var n,o;return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={challenge_id:e.id,challenge_type:e.type,data:{challenge:null===(n=e.options)||void 0===n?void 0:n.challenge}},t.abrupt("return",o);case 3:case"end":return t.stop()}}),r)})))()}},{key:"processOTPChallenge",value:function(e,r){return t(i)(t(l).mark((function n(){var o,a;return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.getOTP();case 2:if(o=t.sent){t.next=5;break}throw new Error("no OTP code provided");case 5:return a={challenge_id:e.id,challenge_type:e.type,data:{otp:o}},t.abrupt("return",a);case 7:case"end":return t.stop()}}),n)})))()}},{key:"processWebAuthnGetChallenge",value:function(r){var n=this;return t(i)(t(l).mark((function o(){var a,i,s,u,c,h,f,p,d,y,v,b;return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r.options,n.isLocalScope(a.rpId)){t.next=19;break}return i=n.getSDKUrl(),t.next=6,e.canGetPublicKeyCredentialsInIFrame();case 6:if(!t.sent){t.next=12;break}if(s=n.iframe.contentWindow){t.next=10;break}throw new Error("cannot get global id iframe");case 10:t.next=15;break;case 12:if(s=window.open(i.toString())){t.next=15;break}throw new Error("cannot open global id window");case 15:return u=new Promise((function(e,t){var o=new Je({baseURL:n.baseURL,sdkURL:n.sdkURL},r),a=function(r){var n=r.data;n.id===o.id&&(s.close(),window.removeEventListener("message",a),n.error?t(n.error):e(n.attestation))};window.addEventListener("message",a),ct(s).then((function(e){e.postMessage(o,i.origin)}))})),t.abrupt("return",u);case 19:if(c={challenge:it(a.challenge),extensions:a.extensions,rpId:a.rpId,timeout:a.timeout,userVerification:a.userVerification},h=a.allowCredentials)for(c.allowCredentials=new Array(h.length),f=0;f<h.length;f++)p=h[f],c.allowCredentials[f]={id:it(p.id),type:p.type,transports:p.transports};return t.next=24,navigator.credentials.get({publicKey:c});case 24:if(d=t.sent){t.next=27;break}throw new Error("could not create assert credential");case 27:return y=d.response,v={id:d.id,rawId:st(new Uint8Array(d.rawId)),type:d.type,clientExtensionResults:d.getClientExtensionResults(),response:{clientDataJSON:st(new Uint8Array(y.clientDataJSON)),authenticatorData:st(new Uint8Array(y.authenticatorData)),signature:st(new Uint8Array(y.signature)),userHandle:y.userHandle?st(new Uint8Array(y.userHandle)):null}},b={challenge_id:r.id,challenge_type:r.type,data:v},t.abrupt("return",b);case 31:case"end":return t.stop()}}),o)})))()}},{key:"processWebAuthnCreateChallenge",value:function(e){var r=this;return t(i)(t(l).mark((function n(){var o,a,i,s,u,c,h,f,p,d;return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.options,r.isLocalScope(o.rp.id)){t.next=6;break}return a=new Promise((function(t,n){var o=r.getSDKUrl(),a=window.open(o.toString());if(a){var i=new He({baseURL:r.baseURL,sdkURL:r.sdkURL},e),s=function(e){var r=e.data;r.id===i.id&&(a.close(),window.removeEventListener("message",s),r.error?n(r.error):t(r.attestation))};window.addEventListener("message",s),ct(a).then((function(e){e.postMessage(i,o.origin)}))}else n(new Error("cannot open global id window"))})),t.abrupt("return",a);case 6:if(i={challenge:it(o.challenge),rp:o.rp,user:{id:it(o.user.id),name:o.user.name,displayName:o.user.displayName},pubKeyCredParams:o.pubKeyCredParams,authenticatorSelection:o.authenticatorSelection,timeout:o.timeout,extensions:o.extensions,attestation:o.attestation},s=o.excludeCredentials)for(i.excludeCredentials=new Array(s.length),u=0;u<s.length;u++)c=s[u],i.excludeCredentials[u]={id:it(c.id),type:c.type,transports:c.transports};return t.next=11,navigator.credentials.create({publicKey:i});case 11:if(h=t.sent){t.next=14;break}throw new Error("cannot create credential");case 14:return f=h.response,p={id:h.id,rawId:st(new Uint8Array(h.rawId)),type:h.type,clientExtensionResults:h.getClientExtensionResults(),response:{attestationObject:st(new Uint8Array(f.attestationObject)),clientDataJSON:st(new Uint8Array(f.clientDataJSON))}},d={challenge_id:e.id,challenge_type:e.type,data:p},t.abrupt("return",d);case 18:case"end":return t.stop()}}),n)})))()}},{key:"getSDKUrl",value:function(){var e=new URL(this.sdkURL);return e.searchParams.append("v",a.raw),e}},{key:"isLocalScope",value:function(e){return window.location.hostname.endsWith(e)}}],[{key:"canGetPublicKeyCredentialsInIFrame",value:function(){return t(i)(t(l).mark((function e(){var r,n;return t(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=window,n=!(!r.chrome||!r.chrome.webstore&&!r.chrome.runtime),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})))()}}]),e}();window.slashid={SlashID:vt,User:Me,version:a}}();
//# sourceMappingURL=slashid.js.map